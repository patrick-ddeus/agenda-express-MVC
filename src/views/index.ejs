<%- include('includes/head') %> <%- include('includes/header', {user: user}) %>

<main>
  <section class="w-100 d-flex justify-content-center">
    <div class="mt-5 w-75">
      <h2 class="text-center h2">Agenda</h2>
      <p class="fs-5 text-center mt-2 lead mb-4">Abaixo todos os contatos</p>
      <%-include('includes/message', {errors, success}) %>
      <table class="table text-center">
        <thead>
          <tr>
            <th scope="col" class="text-center">#</th>
            <th scope="col" class="text-center">Name</th>
            <th scope="col" class="text-center">LastName</th>
            <th scope="col" class="text-center">Email</th>
            <th scope="col" class="text-center">Tel</th>
            <th scope="col" colspan="2" class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% if (contacts) { %> <% for( let i = 0; i < contacts.length; i++ ) {
          %>
          <tr>
            <th scope="row"><%- i + 1 %></th>
            <td><%- contacts[i].name %></td>
            <td><%- contacts[i].lastName %></td>
            <td><%- contacts[i].email %></td>
            <td><%- contacts[i].tel %></td>
            <td class="d-flex gap-5 justify-content-center">
              <a
                href="/edit/contact/<%- contacts[i]._id %>"
                class="link-primary"
                >Editar</a
              >
              <a href="" class="link-danger">Excluir</a>
            </td>
          </tr>
          <% } %> <% } %>
        </tbody>
      </table>
    </div>
  </section>
</main>

<%- include('includes/footer') %>
